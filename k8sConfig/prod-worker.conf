# =============================================================================
# Configuration Worker Production
# =============================================================================

# Version Kubernetes à installer (doit correspondre au master)
K8S_VERSION="1.28.0"

# Chemins d'installation
INSTALL_PATH="/opt/k8s"
DATA_PATH="/var/lib/k8s"
CONFIG_PATH="/etc/k8s"

# Runtime de conteneur
CONTAINER_RUNTIME="containerd"

# Configuration Worker
NODE_NAME="k8s-prod-worker-01"  # Incrémentez pour chaque worker
CLUSTER_NAME="production-cluster"

# INFORMATIONS DE JOINTURE (À REMPLIR DEPUIS LE MASTER)
# Récupérez ces valeurs depuis le fichier master-info-*.txt généré par le master

MASTER_IP="192.168.1.100"  # IP du master ou du load balancer
JOIN_TOKEN="abcdef.1234567890abcdef"  # Token généré par le master
CA_CERT_HASH="sha256:abc123def456..."  # Hash du certificat CA

# ⚠️ IMPORTANT : 
# Ces 3 variables ci-dessus DOIVENT être mises à jour avec les vraies valeurs
# générées lors de l'installation du master. Consultez le fichier master-info-*.txt

# Sécurité Production
SECURITY_LEVEL="hardened"

# Configuration kubelet worker
KUBELET_EXTRA_ARGS="--max-pods=110 --kube-reserved=cpu=200m,memory=500Mi --system-reserved=cpu=200m,memory=500Mi"

# Configuration réseau
DNS_DOMAIN="cluster.local"
TIMEZONE="Europe/Paris"

# Labels pour ce worker (optionnel)
NODE_LABELS="node-role.kubernetes.io/worker=,environment=production,node-type=compute"

# Taints pour ce worker (optionnel)
# NODE_TAINTS="dedicated=gpu:NoSchedule"  # Exemple pour nœud GPU

# Variables d'environnement
ENVIRONMENT="production"
WORKER_TYPE="compute"  # compute, storage, gpu, etc.

# Configuration monitoring
ENABLE_NODE_EXPORTER="true"

# Limites de ressources pour ce worker
# MEMORY_LIMIT="32Gi"
# CPU_LIMIT="16"

# Configuration disque local (si applicable)
# LOCAL_STORAGE_PATH="/mnt/local-storage"
# LOCAL_STORAGE_SIZE="500Gi"