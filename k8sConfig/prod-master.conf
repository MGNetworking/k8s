# =============================================================================
# Configuration Master Production avec Haute Disponibilité
# =============================================================================

# Version Kubernetes à installer
K8S_VERSION="1.28.0"

# Chemins d'installation
INSTALL_PATH="/opt/k8s"
DATA_PATH="/var/lib/k8s"
CONFIG_PATH="/etc/k8s"

# Runtime de conteneur
CONTAINER_RUNTIME="containerd"

# Plugin réseau (Calico recommandé pour production)
NETWORK_PLUGIN="calico"

# Configuration Cluster Production
NODE_NAME="k8s-prod-master-01"  # Incrémentez pour chaque master
CLUSTER_NAME="production-cluster"

# Haute Disponibilité (OBLIGATOIRE pour production)
HIGH_AVAILABILITY="true"
CONTROL_PLANE_ENDPOINT="k8s-prod.domain.com:6443"  # Load balancer devant les masters

# Sécurité Production (niveau maximum)
SECURITY_LEVEL="hardened"
ENABLE_AUDIT="true"
ENABLE_ENCRYPTION="true"

# Backup automatique etcd
BACKUP_ETCD="true"
BACKUP_RETENTION_DAYS="30"

# Configuration réseau production
CLUSTER_CIDR="10.244.0.0/16"
SERVICE_CIDR="10.96.0.0/12"

# Configuration API Server
API_SERVER_EXTRA_ARGS="--enable-admission-plugins=NodeRestriction,ResourceQuota,LimitRanger --audit-log-maxage=30 --audit-log-maxbackup=10 --audit-log-maxsize=100"

# Configuration kubelet
KUBELET_EXTRA_ARGS="--max-pods=110 --kube-reserved=cpu=200m,memory=500Mi --system-reserved=cpu=200m,memory=500Mi"

# Certificats (pour environnement sécurisé)
CERT_VALIDITY_DAYS="365"

# Variables réseau
DNS_DOMAIN="cluster.local"
TIMEZONE="Europe/Paris"

# Configuration monitoring (optionnel)
ENABLE_METRICS_SERVER="true"

# Configuration stockage
DEFAULT_STORAGE_CLASS="fast-ssd"

# Variables d'environnement personnalisées
ENVIRONMENT="production"
COMPANY="VotreEntreprise"
ADMIN_EMAIL="admin@domain.com"